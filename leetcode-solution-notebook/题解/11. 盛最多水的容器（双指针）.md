# 11. 盛最多水的容器



## 1. 说明

给定一个长度为 `n` 的整数数组 `height` 。有 `n` 条垂线，第 `i` 条线的两个端点是 `(i, 0)` 和 `(i, height[i])` 。

找出其中的两条线，使得它们与 `x` 轴共同构成的容器可以容纳最多的水。

返回容器可以储存的最大水量。

说明：你不能倾斜容器。



## 2. 示例

**示例 1：**

![image-20230224085620436](C:\Users\Xiaoyu\AppData\Roaming\Typora\typora-user-images\image-20230224085620436.png)

```
输入：[1,8,6,2,5,4,8,3,7]
输出：49 
解释：图中垂直线代表输入数组 [1,8,6,2,5,4,8,3,7]。在此情况下，容器能够容纳水（表示为蓝色部分）的最大值为 49。
```



**示例 2：**

```
输入：height = [1,1]
输出：1
```



## 3. 提示

- `n == height.length`
- `2 <= n <= 105`
- `0 <= height[i] <= 104`



## 4. 分析

使用**双指针**方法解决。左右指针分别指向最左和最右侧，如果左指针的高度小于右指针，则右指针不动，移动左指针向右移动，一直到两个指针相遇即可。对于为什么是移动矮的那个指针，可以基于以下事实：

- 假设两个指针间距离`length`，左指针高度`x`，右指针高度`y`，且`x<y`，则此时容积为`length*x`

- 若将右指针向左移动，则`length1<length`，如果`y1>=y`，则新的容积为`length1*x`，容积减小，如果`y1<y`，则新容积要么为`length1*x`（`x<y1`），要么为`length1*y1`（`y1<x`），容积都要减小
- 所以如果此时左指针不动的话，右指针无论怎么移动，容积都不会增大了，因此只能移动高度较高的右指针
- 每轮移动矮的那个指针，一直到两个指针相遇，返回移动过程中容积最大的那个即可





## 5. 代码

```java
public class Solution {
    public int maxArea(int[] height) {
        // l和r代表左右指针
        int l = 0, r = height.length - 1;
        int ans = 0;
        while (l < r) {
            // 当前能盛水的容积
            int area = Math.min(height[l], height[r]) * (r - l);
            ans = Math.max(ans, area);
            // 将矮的那个向中心移动
            if (height[l] <= height[r]) {
                ++l;
            }
            else {
                --r;
            }
        }
        return ans;
    }
}
```

